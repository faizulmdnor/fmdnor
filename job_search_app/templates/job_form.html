<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Job Search Log</title>
    <!-- Include flatpickr CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
</head>
<body>

    <h1>Log Your New Job Application</h1>
    <br>
    <button onclick="window.location.href='{{ url_for('menu') }}'">Back to Menu</button>
    <br>
    <br>
    <form method="POST" action="{{ url_for('add_job', index=index) }}">
        <label>Company:</label>
        <input type="text" name="company" required><br><br>

        <label>Position:</label>
        <input type="text" name="position" required><br><br>

        <label>Location:</label>
        <input type="text" name="location" required><br><br>

        <label>Date Applied:</label>
        <input type="text" id="date_applied" name="date_applied" required><br><br>

        <label>Status:</label>
        <select name="status" required>
            <option value="Applied">Applied</option>
            <option value="In Progress">In Progress</option>
            <option value="Under Review">Under Review</option>
            <option value="Expired">Expired</option>
        </select><br><br>

        <label>Application Method:</label>
        <select name="application_method" required>
            <option value="online">Online</option>
            <option value="walk-in">Walk-in</option>
            <option value="others">Others</option>
        </select><br><br>

        <div id="online">
            <label>Website URL:</label>
            <input type="text" name="website"><br><br>
        </div>

        <div id="walk-in">
            <label>Contact Person/Address:</label>
            <input type="text" name="contact"><br><br>
        </div>

        <div id="others">
            <label>Other Information:</label>
            <input type="text" name="info"><br><br>
        </div>

        <input type="submit" value="Submit">
    </form>
    <br>
    <button onclick="window.location.href='{{ url_for('menu') }}'">Back to Menu</button>

    <!-- Include flatpickr JS -->
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script>
        // Initialize flatpickr with the desired date format
        flatpickr("#date_applied", {
            dateFormat: "d-m-Y"  // Format as DD-MM-YYYY
        });
            document.querySelector('form').addEventListener('submit', function(event) {
        const dateApplied = document.querySelector('#date_applied').value;
        if (!dateApplied) {
            event.preventDefault();  // Prevent form submission
            alert("Date Applied is required.");
        }
    });
    </script>
</body>
</html>
